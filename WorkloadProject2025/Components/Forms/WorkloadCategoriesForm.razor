@using System.ComponentModel.DataAnnotations
@using WorkloadProject2025.Data.Models
@inject WorkloadCategoriesService workloadCategoryService
<MudCard Class="mx-auto mt-6" Style="max-width: 450px;">
    <MudCardHeader>
        <MudText Typo="Typo.h6" Class="font-semibold">Add New Workload Category</MudText>
    </MudCardHeader>

    <MudCardContent>
        <MudStack Spacing="2">
            <MudTextField Label="Category ID"
                          @bind-Value="workloadCategory.Id"
                          Required="true"
                          ReadOnly="true"
                          Adornment="Adornment.Start"
                          AdornmentIcon="@Icons.Material.Filled.Badge" />
            <MudTextField Label="Minium Hours"
                          @bind-Value="workloadCategory.MiniumHours"
                          Required="true"
                          Adornment="Adornment.Start"
                          AdornmentIcon="@Icons.Material.Filled.Badge" />
            <MudTextField Label="Maximum Hours"
                          @bind-Value="workloadCategory.MaximumHours"
                          Required="true"
                          Adornment="Adornment.Start"
                          AdornmentIcon="@Icons.Material.Filled.Badge" />

            <MudDatePicker Label="Start Date"
                           @bind-Date="workloadCategory.StartDate"
                           DateFormat="MM/dd/yyyy"
                           PickerVariant="PickerVariant.Dialog"
                           Variant="Variant.Filled"
                           Adornment="Adornment.End"
                           AdornmentIcon="@Icons.Material.Filled.CalendarToday" />


            <MudDatePicker Label="End Date"
                           @bind-Date="workloadCategory.EndDate"
                           DateFormat="MM/dd/yyyy"
                           PickerVariant="PickerVariant.Dialog"
                           Variant="Variant.Filled"
                           Adornment="Adornment.End"
                           AdornmentIcon="@Icons.Material.Filled.CalendarToday" />




        </MudStack>
    </MudCardContent>

    <MudCardActions Class="justify-end">
        <MudButton Variant="Variant.Text" Color="Color.Secondary">Cancel</MudButton>
        <MudButton Color="Color.Primary" Variant="Variant.Filled" OnClick="Save">Save</MudButton>
    </MudCardActions>
</MudCard>
@code {
    private WorkloadCategory workloadCategory { get; set; } = new WorkloadCategory();

    private void Cancel()
    {
        workloadCategory = new WorkloadCategory();
    }

    private async void Save()
    {
        await workloadCategoryService.AddAsync(workloadCategory);
        Cancel();
    }
}
